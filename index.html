<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="apple-touch-icon" href="https://res.cloudinary.com/dnlzwbs5/image/upload/v1739536633/akfpjppjp7cxu7n3zd7g.png">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="I Know That City!">
    <link rel="manifest" href="/manifest.json">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>I Know That City!</title>
    <link href="https://fonts.googleapis.com/css2?family=Sour+Gummy&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Rubik+Vinyl&display=swap" rel="stylesheet">
    <style>
        /* Reset */
        html, body {
            height: 100%;
            margin: 0;
            background-color: #f0f0f0;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            overflow: hidden;
            text-align: center;
        }

        /* Title */
        #title {
            font-family: 'Rubik Vinyl', cursive;
            font-size: 48px;
            font-weight: bold;
            color: black;
            margin-bottom: 15px;
        }

        /* Globe */
        #globe {
            width: 300px;
            transition: transform 3s ease, opacity 3s ease;
        }

        /* Description & input container */
        #textContainer {
            display: none; /* HIDDEN AT START */
            flex-direction: column;
            align-items: center;
            justify-content: center;
            width: 90%;
            max-width: 500px;
            margin-top: 20px;
        }

        /* City description box */
        #cityDescription {
            font-family: 'Sour Gummy', cursive;
            font-size: 20px;
            text-align: center;
            width: 80%;
            max-width: 450px;
            background-color: white;
            border: 2px solid #ccc;
            border-radius: 10px;
            padding: 15px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        /* Input field */
        #cityInput {
            padding: 10px;
            font-size: 18px;
            width: 80%;
            max-width: 300px;
            margin-top: 15px;
        }

        /* Submit button */
        #submitButton {
            padding: 10px 16px;
            font-size: 18px;
            cursor: pointer;
            margin-top: 10px;
        }

        /* Result container */
        #resultContainer {
            display: none; /* HIDDEN AT START */
            flex-direction: column;
            align-items: center;
            justify-content: center;
            margin-top: 20px;
        }

        /* Correct answer text */
        #resultText {
            font-size: 22px;
            font-weight: bold;
            margin-bottom: 10px;
        }

        /* Result image */
        #resultImage {
            display: none;
            width: 80%;
            max-width: 500px;
            border-radius: 10px;
            margin-top: 10px;
        }

        /* Wikipedia link */
        #wikiLink {
            display: none;
            margin-top: 10px;
        }

        #wikiLink a {
            text-decoration: none;
            font-size: 18px;
            color: blue;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div id="title">I Know That City!</div>
    <img id="globe" src="images/globe.png" alt="Spinning Globe" />
    
    <div id="textContainer">
        <div id="cityDescription"></div>
        <input type="text" id="cityInput" placeholder="Guess the city..." />
        <button id="submitButton">Submit</button>
    </div>

    <div id="resultContainer">
        <div id="resultText"></div>
        <img id="resultImage" src="" alt="City Image" />
        <div id="wikiLink"></div>
    </div>

    <script>
        const globe = document.getElementById('globe');
        const cityDescription = document.getElementById('cityDescription');
        const cityInput = document.getElementById('cityInput');
        const submitButton = document.getElementById('submitButton');
        const resultContainer = document.getElementById('resultContainer');
        const resultText = document.getElementById('resultText');
        const resultImage = document.getElementById('resultImage');
        const wikiLink = document.getElementById('wikiLink');

        const cities = [
            {
                description: "This vibrant city is famous for its stunning skyline and iconic bridge that stretches majestically across the bay. A bustling waterfront area is filled with seafood restaurants, and the nearby hills offer breathtaking views of the landscape. Visitors can explore colorful neighborhoods where the streets are alive with art, culture, and history. The climate is mild, making it perfect for outdoor activities and festivals year-round.",
                name: "San Francisco",
                country: "United States",
                image: "images/san_francisco.jpg"
            },
            {
                description: "This city is known for its beautiful beaches, vibrant nightlife, and the iconic pier that draws in tourists and locals alike. Palm trees line the streets, providing a perfect backdrop for outdoor exploration and relaxation. The warm weather makes it an ideal destination for sun-seekers and adventure lovers, with plenty of opportunities for water sports and cultural experiences.",
                name: "Los Angeles",
                country: "United States",
                image: "images/los_angeles.jpg"
            },
            {
                description: "A city rich in history, its cobblestone streets are lined with stunning architecture, including a majestic cathedral that dominates the skyline. Open-air markets bustle with activity, offering delicious local cuisine and unique souvenirs. Annual festivals celebrate the city's cultural heritage, making it a vibrant destination for visitors year-round.",
                name: "Prague",
                country: "Czech Republic",
                image: "images/prague.jpg"
            }
        ];

        let attempts = 0;
        const maxAttempts = 3;
        let currentCity;

        function displayResult(correct, city) {
            resultText.style.display = "block";
            if (correct) {
                resultText.innerText = "Correct! The city is " + city.name + ".";
                resultImage.src = city.image;
                resultImage.style.display = "block";
                wikiLink.innerHTML = `<a href="https://en.wikipedia.org/wiki/${city.name.replace(" ", "_")}" target="_blank">Learn more on Wikipedia</a>`;
                wikiLink.style.display = "block";
            } else {
                resultText.innerText = "Wrong! Try again.";
            }
            resultContainer.style.display = "flex";
        }

        function startGame() {
            attempts = 0;
            currentCity = cities[Math.floor(Math.random() * cities.length)];
            cityDescription.innerText = currentCity.description;
            document.getElementById("textContainer").style.display = "flex";
            globe.style.transition = "transform 3s ease, opacity 3s ease";
            globe.style.transform = "scale(1.5)";
            globe.style.opacity = "0";
            setTimeout(() => {
                globe.style.display = "none";
            }, 3000);
        }

        submitButton.onclick = () => {
            const userGuess = cityInput.value.trim();
            attempts++;
            if (userGuess.toLowerCase() === currentCity.name.toLowerCase()) {
                displayResult(true, currentCity);
            } else if (attempts < maxAttempts) {
                displayResult(false);
                setTimeout(() => {
                    cityDescription.innerText = currentCity.description;
                }, 2000);
            } else {
                displayResult(false);
                cityInput.disabled = true;
            }
        };

        window.onload = startGame;
    </script>
</body>
</html>
